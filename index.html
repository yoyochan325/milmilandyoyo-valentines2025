<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Valentine's Surprise</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap"
    rel="stylesheet"
  />
  <style>
    /* Reset and basic box sizing */
    * {
      box-sizing: border-box;
    }

    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start; /* Align items toward the top */
      min-height: 100vh;
      background-color: #ffdde1;
      font-family: Arial, sans-serif;
      overflow-x: hidden; /* Allow vertical scrolling, hide horizontal overflow */
      position: relative;
      padding-top: 30px; /* Adjust this value to move items higher or lower */
    }

    h1 {
      font-size: 2em;
      margin-bottom: 20px;
    }

    .container {
      display: flex;
      align-items: center;
      gap: 30px;
      margin-bottom: 20px;
    }

    .envelope {
      width: 200px;
      height: 150px;
      background-color: #ff4d6d;
      position: relative;
      cursor: pointer;
      transition: transform 0.5s;
      display: flex;
      justify-content: center;
      align-items: center;
      border-radius: 10px;
      font-size: 2em;
    }

    .flap {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 50%;
      background-color: #ff6b81;
      clip-path: polygon(0 0, 100% 0, 50% 100%);
      transition: transform 0.5s;
    }

    .envelope.open .flap {
      transform: rotateX(180deg);
    }

    .quiz-container,
    .content {
      display: none;
      text-align: center;
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
      margin-top: 20px;
      width: 100%;
      max-width: 600px; /* Wider container */
      margin-bottom: 170px; /* Space to avoid overlap with the photo strip */
      max-height: calc(100vh - 170px); /* Maximum height based on viewport */
      overflow-y: auto; /* Enable vertical scrolling */
    }

    /* CSS for pink, smooth hearts now facing down */
    .heart {
      position: fixed;
      width: 20px;
      height: 20px;
      background: #ff69b4;
      transform: rotate(-45deg);
      animation: floatDown linear;
      pointer-events: none;
    }
    .heart:before,
    .heart:after {
      content: "";
      position: absolute;
      width: 20px;
      height: 20px;
      background: #ff69b4;
      border-radius: 50%;
    }
    .heart:before {
      top: -10px;
      left: 0;
    }
    .heart:after {
      left: 10px;
      top: 0;
    }
    @keyframes floatDown {
      0% {
        transform: translateY(0) rotate(-45deg);
        opacity: 1;
      }
      100% {
        transform: translateY(100vh) rotate(-45deg);
        opacity: 0;
      }
    }

    /* CSS for the moving photo strip with rectangular images */
    #photo-strip {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      overflow: hidden;
      background-color: rgba(255, 255, 255, 0.8);
      height: 150px; /* Increased container height */
    }
    .strip {
      display: flex;
      width: max-content;
      animation: scrollPhotos 20s linear infinite;
    }
    .strip img {
      height: 150px;
      width: 250px;         /* Fixed width to create a rectangle */
      object-fit: cover;    /* Ensures the image fills the rectangle */
      margin-right: 10px;
    }
    @keyframes scrollPhotos {
      0% {
        transform: translateX(0);
      }
      100% {
        transform: translateX(-50%);
      }
    }

    /* Responsive adjustments */
    @media (max-width: 600px) {
      h1 {
        font-size: 1.5em;
      }
      .envelope {
        width: 150px;
        height: 110px;
        font-size: 1.5em;
      }
      .quiz-container, .content {
        width: 90%;
        max-width: 500px; /* Slightly reduced for smaller screens */
        padding: 15px;
        margin-bottom: 140px; /* Adjusted margin for smaller screens */
        max-height: calc(100vh - 140px);
      }
      .strip img {
        height: 120px;
        width: 200px;
        margin-right: 8px;
      }
      #photo-strip {
        height: 120px;
      }
    }
  </style>
</head>
<body>
  <h1>Click the Envelope!</h1>
  <!-- Background Music -->
  <audio id="bg-music" loop>
    <source src="bg.mp3" type="audio/mpeg" />
  </audio>

  <div class="container">
    <div class="envelope" id="envelope">
      <div class="flap"></div>
      ğŸ’Œ
    </div>
  </div>

  <div class="quiz-container" id="quiz">
    <h2>Answer this to unlock the letter!</h2>
    <div id="question-container"></div>
    <input type="text" id="answer" placeholder="Your answer here" />
    <button id="submit-answer">Submit Answer</button>
  </div>

  <div class="content" id="content">
    <h2>My Love Letter</h2>
    <p class="handwritten">
        Mil Milæƒ…äººç¯€å¿«æ¨‚ï¼
            
        æˆ‘è«—ä½ æ‡‰è©²å®Œå…¨ä¼°å””åˆ°ï¼Œæˆ‘æœƒæ•´å€‹ç¶²ç«™ä¿¾ä½ ã€‚ä½†æœ‰è¶£å˜…ä¿‚ï¼Œå…¶å¯¦éˆæ„Ÿä¾†è‡ªä½ ã€‚
            
        è¨˜å””è¨˜å¾—ä½ ä¹‹å‰ç”¨ LaTeX æ•´å’— Kuromi ä¿¾æˆ‘ï¼Ÿç•¶æ™‚æˆ‘çœŸä¿‚å¥½é–‹å¿ƒâ€”â€”å””å–®æ­¢å› ç‚ºä½ èŠ±æ™‚é–“åŒå¿ƒæ€å»æ•´ï¼Œä»²å› ç‚ºä½ é¡˜æ„å­¸æ–°å˜¢å»å®Œæˆå‘¢ä»¶äº‹ã€‚å‘¢ä¸€é»ï¼Œå°æˆ‘åšŸè¬›ç‰¹åˆ¥æœ‰æ„ç¾©ã€‚
            
        æˆ‘ç‰¹åˆ¥æ¬£è³æ‡‚å¾—æˆé•·å˜…äººã€é¡˜æ„æŒ‘æˆ°è‡ªå·±ã€å­¸ç¿’æ–°å˜¢å˜…äººã€‚è€Œç•¶æ™‚ä½ å°±æ­£æ­£å±•ç¾å’—å‘¢ç¨®ç‰¹è³ªã€‚æ‰€ä»¥ï¼Œå‘¢å€‹ç¶²ç«™å°±ç•¶ä¿‚ä¸€ä»½ä¿¾ä½ å˜…å°å°å›æ‡‰ï¼Œäº¦éƒ½ä¿‚ä¸€å€‹ä½ æ¨å‹•æˆ‘å»go beyondå˜…å‹•åŠ›å˜…è­‰æ“šã€‚â¤ï¸

    æˆ‘ç¶“å¸¸è©±ï¼Œå…©å€‹äººä¸€é½Šè¦1+1 >2 å…ˆæœ‰æ„ç¾©ï¼Œå°¤å…¶æˆ‘å€‘å–ºäºŒåä¸­å˜…å¹´ç´€ï¼Œæ›´æ„è­˜åˆ°æ‹æ‹–ï¼Œé‡é»å””åœ¨æ–¼æœ‰å¹¾è½Ÿçƒˆã€ç”œè¨€èœœèªã€ç²‰ç´…æ³¡æ³¡ï¼Œè€Œä¿‚å…±åŒæˆé•·ï¼Œç‚ºå½¼æ­¤å˜…ç”Ÿæ´»æ·»åŠ åƒ¹å€¼ã€å¿«æ¨‚åŒå®‰æ…°ã€‚å› æ­¤æˆ‘è«—ï¼Œæœ‰å’©å¯ä»¥ä»£è¡¨åˆ°æˆ‘ï¼Ÿæˆ‘å¯ä»¥è—‰ç€å‘¢å€‹æƒ…äººç¯€ï¼Œå»ç™¼æ®ã€ç²¾é€²å’©æŠ€èƒ½ï¼Ÿæˆ‘åšç ”ç©¶ã€å¯«paperã€æœ‰äººæ©Ÿäº¤äº’å˜…èƒŒæ™¯ï¼Œä½†æˆ‘ç„¡ç†ç”±å‡ºä¸€ç¯‡è«–æ–‡ã—å˜›ğŸ˜‚ï¼Œå’å°±ç”¨æˆ‘æœ‰é™åŒdevelopç·Šå˜…front end development çŸ¥è­˜ï¼Œåšä¸€å€‹å°ç¶²é å•¦ï¼

    èƒŒæ™¯éŸ³æ¨‚æ–¹é¢ï¼Œæˆ‘æœ¬èº«æ”¾å’—Taylor Swiftå˜…Begin Againï¼Œå› ç‚ºæˆ‘åŒä½ ä¿‚æˆ‘éå»5å¹´åšŸç¬¬ä¸€æ¬¡çœŸæ­£å˜…rebuildï¼Œrebuild trustï¼Œrebuildå°æ„›æƒ…å˜…æ†§æ†¬ï¼Œä½†æˆ‘è¦ºå¾—å»£æ±æ­Œå¯èƒ½ç‚ºä½ ä¾†èªªæ›´è¦ªåˆ‡ã€‚æµ®åºŠå‘¢é¦–æ­Œï¼Œæˆ‘å–ºå€«æ•¦æ™‚ä¸€å€‹äººå»Dear Janeæ¼”å”±æœƒè½å˜…æ™‚å€™å¥½æ„Ÿå‹•ï¼Œä¼°å””åˆ°æˆ‘æœ‰æ—¥éƒ½æœƒæ„Ÿå—åˆ°ï¼Œé›–ç„¶æˆ‘ä»²å­¸ç¿’ç·Šé»æ¨£ä¿¡ä»»ã€äº¤è¨—å¤šå•²ï¼Œä½†ä¿‚ç„¡å¯å¦èªï¼Œä½ ä»¤æˆ‘è¦ºå¾—to be seenï¼Œç•¶åˆæ¥å—ä½ è¡¨ç™½ï¼Œéƒ½ä¿‚è¦ºå¾—æˆ‘è¢«çœ‹è¦‹ï¼Œyou see me, not just the titles and glory. 

    Mil Mil å¤šè¬ä½ ï¼Œä¼´æˆ‘æƒ¶ææ­²æœˆä¸­æ¼‚ç›ªã€‚

    æ•æŸ”  
    2025å¹´æƒ…äººç¯€
    </p>
  </div>

  <!-- Moving Photo Strip at the Bottom -->
  <div id="photo-strip">
    <div class="strip">
      <img src="IMG_1340.jpeg" alt="Photo 1" />
      <img src="IMG_2472.jpeg" alt="Photo 2" />
      <img src="IMG_2486.jpeg" alt="Photo 3" />
      <img src="IMG_2614.jpeg" alt="Photo 4" />
      <img src="IMG_2963.jpeg" alt="Photo 5" />
      <img src="IMG_3252.jpeg" alt="Photo 6" />
      <img src="IMG_3349.jpeg" alt="Photo 7" />
      <img src="IMG_3503.jpeg" alt="Photo 8" />
      <!-- Duplicate images for continuous loop -->
      <img src="IMG_1340.jpeg" alt="Photo 1" />
      <img src="IMG_2472.jpeg" alt="Photo 2" />
      <img src="IMG_2486.jpeg" alt="Photo 3" />
      <img src="IMG_2614.jpeg" alt="Photo 4" />
      <img src="IMG_2963.jpeg" alt="Photo 5" />
      <img src="IMG_3252.jpeg" alt="Photo 6" />
      <img src="IMG_3349.jpeg" alt="Photo 7" />
      <img src="IMG_3503.jpeg" alt="Photo 8" />
    </div>
  </div>

  <script>
    const questions = [
      { question: "Who's the most beautiful girl in the world? ", answer: "Yoyo" },
      { question: "Where did we first meet?", answer: "Bow Cafe" },
      { question: "Which movie did we watch together first?", answer: "ç„šåŸ" },
      { question: "What's my favorite thing about you?", answer: "Patience" },
      { question: "Where was our last trip together?", answer: "Hong Kong" }
    ];
    let currentQuestionIndex = 0;
    let letterOpened = false; // Flag to track if the letter is already open

    function openEnvelope() {
      // If the letter is already open, do nothing.
      if (letterOpened) return;
      
      document.getElementById("envelope").classList.add("open");
      document.getElementById("quiz").style.display = "block";
      createHearts();
      loadQuestion();
    }

    function loadQuestion() {
      const container = document.getElementById("question-container");
      if (currentQuestionIndex < questions.length) {
        container.innerHTML = `<p>${questions[currentQuestionIndex].question}</p>`;
      }
    }

    function checkAnswer() {
      const userAnswer = document.getElementById("answer").value.trim().toLowerCase();
      if (
        currentQuestionIndex < questions.length &&
        userAnswer === questions[currentQuestionIndex].answer.toLowerCase()
      ) {
        currentQuestionIndex++;
        if (currentQuestionIndex < questions.length) {
          loadQuestion();
          document.getElementById("answer").value = "";
        } else {
          // When the last question is answered, remove the quiz box and show the letter.
          letterOpened = true;
          document.getElementById("quiz").remove();
          document.getElementById("content").style.display = "block";
          // Start background music as the love letter opens.
          document.getElementById("bg-music").play();
        }
      } else {
        alert("Oops! Try again!");
      }
    }

    function createHearts() {
      for (let i = 0; i < 20; i++) {
        let heart = document.createElement("div");
        heart.className = "heart";
        heart.style.left = Math.random() * window.innerWidth + "px";
        // Start just above the viewport so they float downward
        heart.style.top = "-20px";
        heart.style.animationDuration = (2 + Math.random() * 3) + "s";
        document.body.appendChild(heart);
        heart.addEventListener("animationend", () => heart.remove());
      }
    }

    document.getElementById("envelope").addEventListener("click", openEnvelope);
    document.getElementById("submit-answer").addEventListener("click", checkAnswer);
  </script>
</body>
</html>
